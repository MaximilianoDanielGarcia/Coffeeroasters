---
interface Props {
	title: string;
	desc: string;
	step: string;
    line: boolean;
    theme?: string;
}

const { step, title, desc, line, theme } = Astro.props;

const colorText = theme == "dark" ? "rgb(254 252 247)" : "rgb(51, 61, 75)";
---

<div class="card-step">
    <div class="border-top">
        <span class="circle"></span>
        { line && <span class="line"></span> } 
    </div>
    <div class="card-step-info">
        <p class="step-number">{ step }</p>
        <h3>{ title }</h3>
        <p>{ desc }</p>
    </div>
</div>

<style define:vars={{ colorText }}>

    .card-step {
        position: relative;
        display: flex;
        flex-direction: column;
        width: 100%;
        min-width: 202px;
        max-width: 260px;
        gap: 85px;
        margin-top: 100px;
    }

    .border-top {
        position: absolute;
        top: -110px;
        display: flex;
        align-items: center;
        width: calc(100% + 120px);
    }

    .circle {
        width: 30px;
        height: 30px;
        background: transparent;
        border: 2px solid var(--green-cyan);
        border-radius: 50%;
    }

    .line {
        width: 100%;
        height: 2px;
        background: var(--cream);
    }

    .card-step-info {
        display: flex;
        flex-direction: column;
        gap: 40px;
    }

    .step-number {
        font-family: 'Fraunces', sans-serif;
        font-size: 70px;
        font-weight: 900;
        color: var(--cream);
    }

    h3 {
        font-family: 'Fraunces', sans-serif;
        font-weight: 900;
        font-size: 32px;
        width: 100%;
        color: var(--colorText);
    }

    p {
        color: var(--colorText);
        line-height: 26px;
    }

    @media screen and (width <= 1100px) {
        .border-top {
            width: calc(100% + 30px);
        }
    }

    @media screen and (width <= 750px) {

        .card-step {
            max-width: clamp(300px, 60%, 390px);
            margin-top: 0px;
        }

        .card-step-info {
            justify-content: center;
            align-items: center;
            gap: 30px;
        }
        
        .border-top {
            display: none;
        }

        h3 {
            text-wrap: nowrap;
            font-size: 24px;
            width: 100%;
        }

        p {
            font-size: 16px;
            line-height: 26px;
        }
    }

</style>